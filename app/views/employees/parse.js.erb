function addEmployee(employeeHTML) {
  const employeeList = document.getElementById('employee-list');
  employeeList.insertAdjacentHTML('beforeend', employeeHTML);
  const hider = document.getElementById('hider');
  hider.classList.remove('hide');
}

function updateMarkers() {
  const map = document.getElementById('map');
  const btnMap = document.getElementById("init-map")
  map.setAttribute('data-markers', '<%= raw(@markers.to_json) %>');
  btnMap.click();
}

var csvCloseBtn = document.getElementById('csv-close-button');

<% if @employee.errors.any? %>
  console.log("error");
<% else %>

  <% @employees.each do |e| %>
    addEmployee('<%= j render "employee_card", e: e %>');
  <% end %>

  csvCloseBtn.click();
  updateMarkers();
<% end %>
